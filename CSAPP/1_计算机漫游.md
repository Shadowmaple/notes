# 第一章 计算机漫游
---
系统是硬件和系统软件相互交织的集合体

## 信息就是位+上下文
+ hello程序的生命周期是从一个源程序（源文件）开始的，即用过编辑器创建的文本文件，文件名为hello.c
+ 源程序实际上就是一个由0和1组成的位（比特）序列
+ hello.c程序是以字节序列的方式储存在文件中的
+ 只有ASCII字符构成的文件称为文本文件，所有其他文件都称为二进制文件
+ 区分不同数据对象的唯一方法是读到这些数据对象时的上下文。

## 程序的编译
+ 为了在系统上运行hello.c程序，每条C语句都必须被其他程序转化为一系列的低级机器语言指令。这些指令按照一种称为可执行目标程序的格式打好包，并以二进制磁盘文件的形式存放起来，目标程序也称为可执行目标文件。
+ 在Unix系统上，从源文件到目标文件的转化是由编译器驱动程序完成的
+ 四个阶段：预处理，编译，汇编，链接
+ 预处理器，编译器，汇编器和连接器这四个程序一起构成了编译系统
+ GNU ==> GNU's Not Unix

## shell
+ shell 是一个命令解释器。
+ 若命令行的第一个单词不是一个内置的shell命令，那么shell就会假设这是一个可执行文件的名字，它将加载并运行这个文件。

## 系统的硬件组成
### 总线
+ 是贯穿整个系统的一组电子管道，它携带信息字节并负责在各个部件之间传递。
+ 总线通常被设计成传送成传送定长的字节块，也就是字(word)，字中的字节数(字长)是一个基本的系统参数，各个系统中都不尽相同。

### I/O设备
+ 是系统与外部世界的联系通道。每个I/O设备都通过一个控制器或适配器与I/O设备相连。
+ 控制器是I/O设备本身或系统的主印刷电路板（主板）上的芯片组；而适配器是一块插在主板插槽上的卡。
+ 网络提供了计算机系统之间通信的手段，从特殊系统的角度来看，网络就是一种I/O设备

### 主存
+ 主存是一个临时存储设备，在处理器执行程序时，用来存放程序和程序处理的数据。
+ 从物理上来说，主存是由一组动态随机存取存储器(DRAM)芯片组成的；从逻辑上来说，是一个线性的字节数组，每个字节都有其唯一的地址（数组索引）。

### 处理器
+ 即中央处理器，是解释或执行存储在主存中指令的引擎。其核心是一个大小为一个字的存储设备或寄存器，称为程序计数器(PC)。
+ 寄存器文件是一个小的存储设备，由一些单个字长的寄存器组成，每个寄存器都有唯一的名字。
+ ALU（算数/逻辑单元）用于计算新的数据和地址值。
+ 处理器的指令集架构和微体系结构：
    + 指令集架构：指令集架构描述的是每条机器代码指令的效果
    + 微体系结构：微体系结构描述的是处理器实际上是如何实现的。

## 高速缓存存储器(chche memory)
### 静态随机访问存储器(SRAM)
高速缓存器使得系统可以获得一个很大的存储器并且访问速度很快，原因是利用了高速缓存的局部性原理，即程序具有访问局部区域里的数据和代码的趋势。

### 存储设备形成层次结构
存储器层次结构的主要思想是上一层的存储器作为低一层存储器的高速缓存

## 操作系统的基本功能与抽象表示
### 基本功能
操作系统具有两个基本功能：
1. 防止硬件被时空的应用程序滥用
2. 向应用程序提供简单一致的机制来控制复杂而又通常大不相同的低级硬件设备。

### 抽象表示
计算机系统中的一个重大主题就是提供不同层次的抽象表示，来隐藏实际实现的复杂性

文件是对I/O设备的抽象，虚拟内存是对程序存储器(主存和磁盘I/O设备)的抽象，进程是对一个正在运行的程序(处理器、主存和I/O设备)的抽象，虚拟机是对整个计算机的抽象，包括操作系统、处理器和程序。

操作系统用这几个基本的抽象概念来实现其基本功能

## Unix标准
Posix标准和一个被称为“标准Unix规范”的独立标准化工作已经一起创建了统一的Unix系统标准。

## 进程与线程
+ 进程是操作系统对一个正在运行的程序的一种抽象
+ 并发运行，是说一个进程的指令和另一个进程的指令是交错执行的。
+ 操作系统保持跟踪进程运行所需的所有状态信息，这种状态就是上下文。操作系统实现交错执行的机制称为上下文切换
+ 从一个进程到另一个进程的转换是由操作系统内核(kernel)管理的。内核是操作系统代码常驻主存的部分，内核不是一个独立的进程，而是系统清理全部进程所用代码和数据结构的集合。
+ 一个进程是由一个或多个称为线程的执行单元组成的，每个线程都运行在进程的上下文中，并共享同样的代码和全局数据。
+ 多线程之间比多进程之间更容易共享数据，线程一般来说都比进程更高效。

## 虚拟内存
虚拟内存是一个抽象概念，它为每个进程提供了一个假象，即每个进程都在独占地使用主存。每个进程看到的内存都是一致的，称为虚拟内存空间。

虚拟内存运作的基本思想是把一个进程虚拟内存的内容存储在磁盘上，然后用主存作为磁盘的高速缓存，

## Amdahl定律
当我们对系统的某个部分加速时，其对系统整体性能的影响取决于该部分的重要性和加速程度。要想显著加速整个系统，必须提升全系统中相当大的部分的速度。

## 并发和并行
并发是指一个同时具有多个活动的系统；并行是指用并发来使一个系统运行得更快。

+ 线程级并行：
超线程，即同时多线程，是一项允许一个CPU执行多个控制流的技术
+ 指令集并行
+ 单指令、多数据并行：
SIMD并行，即单指令、多数据并行，是允许一条指令产生多个可以并行执行的操作的方式。



